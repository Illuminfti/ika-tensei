# Ika Tensei v8 Relayer — Environment Variables
#
# Copy to .env and fill in your values.
# See docs/SETUP.md for step-by-step instructions.

# ── Sui Configuration ──
SUI_RPC_URL=https://fullnode.testnet.sui.io:443
SUI_WS_URL=wss://fullnode.testnet.sui.io/websocket
SUI_PACKAGE_ID=0x<your-deployed-package-id>

# Sui keypair for signing transactions (JSON array of bytes or base64)
SUI_KEYPAIR_PATH=./sui-keypair.json

# ── Solana Configuration ──
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_PROGRAM_ID=<your-deployed-program-id>

# Solana keypair for paying mint fees (JSON array of 64 bytes)
RELAYER_KEYPAIR_PATH=./relayer-keypair.json

# ── IKA Network ──
IKA_NETWORK=testnet
# 32-byte hex seed for IKA UserShareEncryptionKeys (generate with: openssl rand -hex 32)
IKA_ENCRYPTION_SEED=<64-hex-chars>

# ── Sui Object IDs (set after deploying Sui contracts) ──
# OrchestratorState shared object
SUI_ORCHESTRATOR_STATE_ID=0x<orchestrator-state-id>
# SigningState shared object
SUI_SIGNING_STATE_ID=0x<signing-state-id>
# MintingAuthority shared object
SUI_MINTING_AUTHORITY_ID=0x<minting-authority-id>
# OrchestratorAdminCap (owned by deployer)
SUI_ADMIN_CAP_ID=0x<admin-cap-id>
# DWalletRegistry shared object
SUI_REGISTRY_OBJECT_ID=0x<registry-id>
# DWalletRegistryCap (owned by deployer)
SUI_REGISTRY_CAP_OBJECT_ID=0x<registry-cap-id>

# ── Treasury (minimum balances before auto-replenish, in MIST) ──
# 50 IKA = 50_000_000_000 MIST
MIN_IKA_BALANCE_MIST=50000000000
# 5 SUI = 5_000_000_000 MIST
MIN_SUI_BALANCE_MIST=5000000000

# ── Presign Pool ──
PRESIGN_POOL_MIN_AVAILABLE=5
PRESIGN_POOL_REPLENISH_BATCH=5

# ── Wormhole / VAA Ingestion ──
# Wormhole State shared object on Sui (from Wormhole deployment)
WORMHOLE_STATE_OBJECT_ID=0x<wormhole-state-id>

# Wormholescan API base URL (testnet or mainnet)
WORMHOLESCAN_API_URL=https://api.testnet.wormholescan.io

# Registered source chain emitters (SealInitiator contracts).
# Format: chainId:emitterAddress:label,chainId:emitterAddress:label,...
# Emitter addresses are 32-byte hex (left-padded for EVM, SHA256-hashed for NEAR).
# Chain IDs: 2=Ethereum, 4=BSC, 5=Polygon, 6=Avalanche, 15=NEAR, 22=Aptos
# Example with Ethereum + NEAR:
SOURCE_CHAIN_EMITTERS=2:000000000000000000000000<your-eth-seal-initiator>:Ethereum,15:<your-near-emitter-sha256>:NEAR

# How often to poll Wormholescan for new VAAs (ms)
VAA_POLLING_INTERVAL_MS=30000

# ── Minting dWallet DKG Outputs ──
# These are generated once during the minting dWallet setup (Step 6 in SETUP.md).
# Store them securely — they are needed for IKA signing.
# Hex-encoded bytes from the DKG ceremony.
MINTING_DWALLET_SECRET_KEY_SHARE=<hex-encoded-secret-key-share>
MINTING_DWALLET_PUBLIC_OUTPUT=<hex-encoded-public-output>

# ── API Server ──
API_PORT=3001
SEAL_FEE_LAMPORTS=10000000

# ── Operational ──
HEALTH_PORT=8080
MAX_RETRIES=3
RETRY_DELAY_MS=1000
LOG_LEVEL=info
NODE_ENV=development
